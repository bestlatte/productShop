<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>ç°¡æ˜“è³¼ç‰©ç¶²ç«™</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background-color: #f5f5f5;}
        h1 { text-align: center;}
        .product-container { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center;}
        .product { background: white; padding: 15px; border-radius: 10px; width: 220px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); text-align: center;}
        .product img { max-width: 100%; height: auto; border-radius: 8px;}
        .product h3 { margin: 10px 0 5px;}
        .product p { margin: 5px 0;}
        button { padding: 8px 16px; background-color: #2b8dfc; color: white; border: none; border-radius: 5px; cursor: pointer;}
        button:hover { background-color: #1167c3;}
        .cart { margin-top: 40px; background: white; padding: 20px; border-radius: 10px; max-width: 600px; margin-left: auto; margin-right: auto; box-shadow: 0 2px 8px rgba(0,0,0,0.1);}
    </style>
</head>
<body>
<h1>è³¼ç‰©ç¶²ç«™</h1>
<div class="product-container">
    <div class="product">
        <img src="https://via.placeholder.com/200x150?text=å•†å“A" alt="å•†å“A">
        <h3>ç´…è‰²Tæ¤</h3>
        <p>NT$399</p>
        <button onclick="addToCart(1, 'ç´…è‰²Tæ¤', 399)">åŠ å…¥è³¼ç‰©è»Š</button>
    </div>
    <div class="product">
        <img src="https://via.placeholder.com/200x150?text=å•†å“B" alt="å•†å“B">
        <h3>ç„¡ç·šè€³æ©Ÿ</h3>
        <p>NT$1299</p>
        <button onclick="addToCart(2, 'ç„¡ç·šè€³æ©Ÿ', 1299)">åŠ å…¥è³¼ç‰©è»Š</button>
    </div>
    <div class="product">
        <img src="https://via.placeholder.com/200x150?text=å•†å“C" alt="å•†å“C">
        <h3>è¡Œå‹•é›»æº</h3>
        <p>NT$699</p>
        <button onclick="addToCart(3, 'è¡Œå‹•é›»æº', 699)">åŠ å…¥è³¼ç‰©è»Š</button>
    </div>
    <div class="product">
        <img src="https://via.placeholder.com/200x150?text=å•†å“D" alt="å•†å“D">
        <h3>å’–å•¡æ¿¾å£“å£º</h3>
        <p>NT$499</p>
        <button onclick="addToCart(4, 'å’–å•¡æ¿¾å£“å£º', 499)">åŠ å…¥è³¼ç‰©è»Š</button>
    </div>
</div>

<div class="cart">
    <h2>ğŸ›’ è³¼ç‰©è»Šå…§å®¹</h2>
    <ul id="cart-list">
        <li>å°šæœªåŠ å…¥ä»»ä½•å•†å“</li>
    </ul>
</div>

<script>
    // å‡è¨­å›ºå®šuserId = 1ï¼ŒçœŸæ­£å°ˆæ¡ˆè«‹è‡ªè¡Œæ‹‰ç™»å…¥ç‹€æ…‹
    function addToCart(productId, productName, price) {
        fetch("http://localhost:8080/api/cart/add", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
                userId: 1,         // å‡è£ä½ å·²ç¶“ç™»å…¥
                productId: productId, // â˜…é€™è£¡ç”¨åƒæ•¸
                quantity: 1
            })
        })
            .then(res => res.json())
            .then(data => {
                if (data.message) {
                    alert(`åŠ å…¥è³¼ç‰©è»ŠæˆåŠŸï¼š${productName}`);
                    // ä½ å¯ä»¥åœ¨é€™è£¡è‡ªå‹•åˆ·æ–°è³¼ç‰©è»Šå…§å®¹
                } else if (data.error) {
                    alert(`åŠ å…¥å¤±æ•—ï¼š${data.message}`);
                }
            })
            .catch(err => {
                alert("å¾Œç«¯ä¼ºæœå™¨é€£ç·šå¤±æ•—æˆ–å£æ‰");
            });
    }
</script>
</body>
</html>
